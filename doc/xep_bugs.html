<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>   <meta content="text/html; charset=UTF-8" http-equiv="content-type" />   <title>Bibledit</title>
<link href="bibledit.css" rel="stylesheet" type="text/css" />
<!-- 
Copyright (Â©) 2003-2008 Teus Benschop.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.2
or any later version published by the Free Software Foundation;
with no Invariant Sections, no Front-Cover Texts, and no Back-Cover
Texts.  A copy of the license is included in the section entitled "GNU
Free Documentation License" in the file FDL.
-->
</head>
<body>
<h2><a name="xepbugs"></a>XEP bugs</h2>
<!-- Table of Contents Start -->
<div id="toc">
<ul>
<li>
<a href="#footnotesplacement" class="level1">Footnotes placement</a></li>
<li>
<a href="#bugreport" class="level2">Bug report</a></li>
<li>
<a href="#response" class="level2">Response</a></li>
<li>
<a href="#workaround" class="level2">Workaround</a></li>
</ul>
</div>
<!-- Table of Contents End -->
<h3><a name="footnotesplacement"></a>Footnotes placement</h3>
<h4><a name="bugreport"></a>Bug report</h4>
<p>There is a problem with positioning a footnote on a page.</p>
<p>"XEP can place footnotes inside single columns in multi-column layouts,
rather than a page-wide area (as prescribed by the spec). This behaviour is
controlled by an option, PAGEWIDE_FOOTNOTES="false"."</p>
<p>This option has been set in the xep.xml file, and indeed the footnotes
then are placed inside the single columns, but in some cases the footnotes no
longer appear at the bottom of the page, but elsewhere in the layout. This
occurs when the layout changes from multi-column to single column during the
flow. The footnote is then placed just before where the single column
starts.</p>
<p>Anyone knows how to solve this?</p>
<h4><a name="response"></a>Response</h4>
<p>Placing footnotes inside single columns is a RenderX extension to the
specification. This only makes sense when the number of columns on a page is
constant, and no flow-sections or blocks with span="all" appear on the page.
The latter is exactly your case.</p>
<p>Consider if the block with span="all" contains more text than just a
subchapter title and does not fit the space left on the page. It will meet
the page break and continue on the following page. So the bottom of the page
where the block with span="all" starts is rendered in sinle-column layout,
and narrow column-wide footnote in one column would make it look bad.</p>
<p>There can also be a design which uses rx:flow-setion to switch from
2-column to 3-column layout and then back from 3- to 2-columns. All on the
same page. Where should the formatter place the footnoes in this case?</p>
<p>Anyway, XEP flushes all the column-wide footnotes when the flow-section
ends, placing them before the next flow-section (or a block with span="all"),
and there is nothing one can do about it.</p>
<h4><a name="workaround"></a>Workaround</h4>
<p>The problem arises with headings, whose marker starts with m: \ms, \ms1,
\ms2. \mr, etc. When editing those styles (File/Styles/Edit, then
File/Style/Properties), switch off the feature: Spans the 2 columns, and the
problem is gone.</p>
</body>
</html>
