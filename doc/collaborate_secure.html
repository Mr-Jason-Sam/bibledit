<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta content="text/html; charset=UTF-8" http-equiv="content-type" />
<title>Bibledit</title>
<!--
Copyright (Â©) 2003-2008 Teus Benschop.
Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.2
or any later version published by the Free Software Foundation;
with no Invariant Sections, no Front-Cover Texts, and no Back-Cover
Texts.  A copy of the license is included in the section entitled "GNU
Free Documentation License" in the file FDL.
-->
<link href="bibledit.css" rel="stylesheet" type="text/css" />
</head>
<body>
<h2><a name="securenetworkcollaboration"></a>Secure network collaboration</h2>
<!-- Table of Contents Start -->
<div id="toc">
<ul>
<li>
<a href="#introduction" class="level1">Introduction</a></li>
<li>
<a href="#serveraccount" class="level1">Server account</a></li>
<li>
<a href="#thekeys" class="level1">The keys</a></li>
<li>
<a href="#repositorysetup" class="level1">Repository setup</a></li>
</ul>
</div>
<!-- Table of Contents End -->
<h3><a name="introduction"></a>Introduction</h3>
<p>Secure collaboration is necessary when your data travels through the public
internet, or when your repository is on the internet. Only those who have the
keys to a secure repository have access to it, nobody else. Data will be
encrypted and transported securely. Nobody can see the data that is being
transported.</p>
<p>An example will be used to show how to set up this type of secure
collaboration. The example uses a git repository on sourceforge.net.</p>
<h3><a name="serveraccount"></a>Server account</h3>
<p>Open an account on <a href="http://sourceforge.net">sourceforge.net</a>. We
will use the username "joe" in this example.</p>
<h3><a name="thekeys"></a>The keys</h3>
<p>Bibledit needs to be able to access the repository securely and without any
required user intervention such as requests for passwords. To make a secure
connection to the repository without asking for a password, you need to
generate a pair of keys without a passphrase. <a href="ssh-key-pair.html">Go
ahead and generate a key pair</a>. </p>
<p>On your personal account page at sourceforge.net, choose Services, then
choose "Edit SSH Keys for Shell/CVS". You have generated a file "ssh-key.pub".
Open it in gedit. Select all the text and copy it to the clipboard. In the
screen titled "SSH Keys", there is a place where it says "Authorized keys:".
Paste the text from gedit into that space on the web page. After checking that
everything looks fine, press button "Update". Synchronizing the keys into the
system has a 10 minute delay.</p>
<p>The next step is to tell the secure shell where to find the private key when
we connect to sourceforge.net, and to set a few other options. To do that, open
file ~/.ssh/config in gedit. Enter the entry for sourceforge.net, like so:</p>
<pre>Host *sourceforge.net</pre>
<pre>     IdentityFile ~/.ssh/ssh-key</pre>
<pre>     BatchMode yes</pre>
<pre>     StrictHostKeyChecking no</pre>
<p>Save the file.</p>
<p>The above refers to a file called "ssh-key". You have generated this key
before, as part of a secure shell key pair.</p>
<p>If the delay of 10 minutes has expired, we can now try whether the key pair
works well. In the terminal, try to log into a shell at sourceforge:</p>
<pre>ssh joe@web.sourceforge.net</pre>
<p>If it asks for a password, then the key pair has not been set up properly.
It should not ask for a password, but welcome you, then say that the shell
account is restricted, then close the connection. If it does this, then the key
pair works fine.</p>
<h3><a name="repositorysetup"></a>Repository setup</h3>
<p>Register a new project on your personal account page on sourceforge.net.
Let's call this project "repo1".</p>
<p>Enable project feature "Git" on this project. This provides the
repository.</p>
<p>The repository in this example is available at
"repo1.git.sourceforge.net/gitroot/repo1/repo1".</p>
<p>The next thing is to try whether you can read the repository properly. To
try that, open a terminal and issue the following command:</p>
<pre>git ls-remote ssh://joe@repo1.git.sourceforge.net/gitroot/repo1/repo1</pre>
<p>This command should complete without asking you for anything, and without
errors. If it completes without problems, then your secure repository access
works well.</p>
<p>The next step is to put something into the repository. It does not matter
what, anything will do. Let's proceed and put an empty file into the
repository. Open a terminal and issue the commands as given.</p>
<pre>cd</pre>
<pre>mkdir repository</pre>
<pre>cd repository</pre>
<pre>git init</pre>
<p>It will say that an empty Git repository was initialized.</p>
<pre>touch file</pre>
<pre>git add .</pre>
<pre>git commit -a -m init</pre>
<p>It will say that an initial commit was created.</p>
<pre>git push ssh://joe@repo1.git.sourceforge.net/gitroot/repo1/repo1</pre>
<p>It may say that it failed to push soms refs, but we don't care about that.
Apart from that the command should succeed.</p>
<p>(The above should be verified, as the repo was not empty. Try with
bibledit's repo)</p>
<p>--- work in progress ---</p>
</body>
</html>
